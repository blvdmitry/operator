.root {
  position: relative;
  margin-inline: calc(var(--bui_spacing_4x) * -1);

  /* Overflow fix: compensate extra Y padding in .inner */
  margin-block: calc(var(--bui_spacing_2x) * -1);
}

.header {
  margin-block-end: var(--bui_spacing_4x);
}

.inner {
  list-style: none;
  margin: 0;
  display: flex;
  flex-wrap: nowrap;
  justify-content: flex-start;
  width: 100%;
  overflow-x: scroll;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  backface-visibility: hidden;
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
  scrollbar-width: none;
  box-sizing: border-box;
  scroll-snap-type: x mandatory;
  padding-inline: var(--bui_spacing_4x);

  /* Overflow fix: Y padding in case inner children have overflowing styles */
  padding-block: var(--bui_spacing_2x);
  scroll-padding-left: var(--bui_spacing_4x);
}

/* 
* Needs Safari 15+ for logical properties
* https://caniuse.com/?search=scroll-padding-start
*/
[dir="rtl"] .inner {
  scroll-padding-left: 0;
  scroll-padding-right: var(--bui_spacing_4x);
}

.inner::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
}

.nav {
  display: none;
  pointer-events: none;
}

.control {
  pointer-events: all;
}

.item {
  flex: 0 0 auto;
  box-sizing: border-box;
  margin-inline-end: var(--bui_spacing_3x);
  scroll-snap-align: start;
}

.item:last-child {
  margin-inline-end: 0;
}

.root--size-small .item {
  width: 28%;
}

.root--size-medium .item {
  width: 42%;
}

.root--size-large .item {
  width: 64%;
}

.root--size-larger .item,
.root--size-largest .item {
  width: 89%;
}

@media (--bui_medium_viewport) {
  /* 5 = number of gaps, 6 = number of items */
  .root--size-small .item {
    width: 18%;
  }

  .root--size-medium .item {
    width: 28%;
  }

  .root--size-large .item {
    width: 40%;
  }

  .root--size-larger .item,
  .root--size-largest .item {
    width: 67%;
  }
}

/* Desktop */
@media (--bui_large_viewport) {
  .root {
    /* Overflow fix: compensate extra Y padding in .inner */
    margin-inline: calc(var(--bui_spacing_2x) * -1);
  }

  .inner {
    /* Overflow fix: Y padding in case inner children have overflowing styles */
    padding-inline: var(--bui_spacing_2x);
    mask-image: linear-gradient(
      to right,
      rgba(0, 0, 0, 0) 0,
      rgba(0, 0, 0, 100%) var(--bui_spacing_2x),
      rgba(0, 0, 0, 100%) calc(100% - var(--bui_spacing_2x)),
      rgba(0, 0, 0, 0) 100%
    );
    scroll-padding-left: var(--bui_spacing_2x);
  }

  /* 
  * Needs Safari 15+ for logical properties
  * https://caniuse.com/?search=scroll-padding-start
  */
  [dir="rtl"] .inner {
    scroll-padding-left: 0;
    scroll-padding-right: var(--bui_spacing_4x);
  }

  .nav {
    position: absolute;
    inset-block-start: 50%;
    transform: translateY(-50%);
    inset-inline: calc(var(--bui_spacing_2x) * -1);
    display: flex;
    justify-content: space-between;
    z-index: var(--bui_z_index_1);
  }

  .item {
    margin-inline-end: var(--bui_spacing_4x);
  }

  .item:last-child {
    margin-inline-end: 0;
  }

  /* 5 = number of gaps, 6 = number of items */
  .root--size-small .item {
    width: calc((100% - (var(--bui_spacing_4x) * 5)) / 6);
  }

  .root--size-medium .item {
    width: calc((100% - (var(--bui_spacing_4x) * 3)) / 4);
  }

  .root--size-large .item,
  .root--size-larger .item {
    width: calc((100% - (var(--bui_spacing_4x) * 2)) / 3);
  }

  .root--size-largest .item {
    width: calc((100% - (var(--bui_spacing_4x) * 1)) / 2);
  }
}
