.trigger-list {
  position: relative;
}

.trigger-list--animated .nav::after {
  visibility: visible;
}

.nav {
  display: block;
  list-style: none;
  margin: 0;
  padding: 0;
  position: relative;
  -ms-overflow-style: none;
  overflow: -moz-scrollbars-none;
  scrollbar-width: none;
}

.nav::-webkit-scrollbar {
  display: none;
}

.nav::after {
  content: "";
  position: absolute;
  inset-block-end: var(--bui_border_width_100);
  height: var(--bui_border_width_200);
  background: var(--bui_color_action_border);
  display: block;
  width: var(--bui-tab-underline-scale-x, 0);

  /* stylelint-disable-next-line safe-logical-properties/validate-logical-usage */
  left: 0;
  transform: translateX(var(--bui-tab-underline-transform-x, 0));
  transition: var(--bui_animation_press);
  transition-property: width, transform;
  visibility: hidden;
}

.item {
  box-sizing: border-box;
  user-select: none;
  text-align: center;
  display: inline-block;
  vertical-align: bottom;
  color: var(--bui_color_foreground);
}

.item-panel {
  display: none;
}

.item-panel--active {
  display: block;
}

.item:not(.item--more) .link::after {
  content: "";
  position: absolute;
  inset-inline: 0;
  inset-block-end: calc(var(--bui_border_width_100) * -1);
  height: var(--bui_border_width_200);
  background: transparent;
}

.item--hidden {
  display: none;
}

.item--more .link {
  margin: 0;
}

.item--more {
  display: none;
  position: relative;
  margin: 0;
}

.item--selected {
  color: var(--bui_color_action_foreground);
}

.item--more-active {
  display: inline-block;
}

.bubble {
  margin-inline-start: var(--bui_spacing_2x);
}

.bubble:empty {
  vertical-align: middle;

  /*
    Add 2px to have the bubble same size as the line-height which helps vertical alignment
   */
  margin-block-end: 2px;
}

.link {
  @apply --bui_font_emphasized_2;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 0;
  background: none;
  color: currentcolor;
  padding: var(--bui_spacing_4x);
  text-decoration: none;
  max-width: none;
  position: relative;
  width: 100%;
  box-sizing: border-box;
  font-family: inherit;
  outline: none;
  text-align: center;
}

.link:hover {
  background-color: var(--bui_color_highlighted_alt);
  text-decoration: none;
  cursor: pointer;
}

.link:link {
  @apply --bui_font_emphasized_2;
  text-decoration: none;
}

[data-bui-keyboard] .link:focus {
  @apply --bui_focus;
}

.title {
  @apply --bui_font_strong_2;
}

.icon,
.title {
  display: inline-block;
  vertical-align: middle;
}

.iconMore {
  margin-inline-start: var(--bui_spacing_1x);
}

.root--vertical .link {
  flex-direction: column;
}

.root--vertical .title {
  display: block;
}

.root--vertical .icon {
  display: block;
}

.root--vertical .item--more .link::before {
  content: url("data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='3.375' cy='12.023' r='2.625' fill='none' stroke='currentcolor' stroke-width='1.5' /><circle cx='20.625' cy='12.023' r='2.625' fill='none' stroke='currentcolor' stroke-width='1.5' /><circle cx='12' cy='12.023' r='2.625' fill='none' stroke='currentcolor' stroke-width='1.5' /></svg>");
  width: var(--bui_spacing_4x);
  height: var(--bui_spacing_4x);
  display: block;
  margin-block-start: 0;
  margin-block-end: var(--bui_spacing_1x);
  margin-inline: auto;
}

.root--borderless .trigger-list::before {
  content: none;
}

.root--equal .nav {
  display: flex;
  align-items: flex-end;
  flex-wrap: wrap;
}

.root--equal .item {
  display: flex;
  align-self: stretch;
}

.root--equal .item--more {
  display: none;
}

/**
 * Underlined variant
 */

.trigger-list--variant-underlined {
  margin-block-end: calc(var(--bui_border_width_100) * -1);
}

/* Fake the border so overflow: auto on mobile works fine with selected item borders */
.trigger-list--variant-underlined::before {
  content: "";
  position: absolute;
  inset-block-end: var(--bui_border_width_100);
  inset-inline: 0;
  background: var(--bui_color_border_alt);
  height: var(--bui_border_width_100);
}

.trigger-list--variant-underlined .nav {
  padding: 0;
  padding-block-end: var(--bui_border_width_200);
}

.trigger-list--variant-underlined:not(.trigger-list--animated)
  .item:not(.item--more).item--selected
  .link::after {
  background-color: var(--bui_color_action_border);
}

/**
 * Rounded variant
 */

.trigger-list--variant-rounded {
  margin-block-end: calc(var(--bui_border_width_100) * -1);
}

.trigger-list--variant-rounded .nav {
  padding-block-end: var(--bui_border_width_100);
}

.root:not(.root--equal) .trigger-list--variant-rounded {
  margin-inline: calc(var(--bui_spacing_4x) * -1);
}

.root:not(.root--equal) .trigger-list--variant-rounded .nav {
  padding-inline: var(--bui_spacing_4x);
}

.trigger-list--variant-rounded .item:not(:first-child) {
  padding-inline-start: var(--bui_spacing_1x);
}

.trigger-list--variant-rounded .item .link {
  padding: calc(var(--bui_spacing_3x) - var(--bui_border_width_100))
    var(--bui_spacing_4x);
  border: var(--bui_border_width_100) solid transparent;
  border-radius: 100px;
  transition: var(--bui_animation_press);
  transition-property: border-color, background-color;
}

/**
 * Color inherit
 */
.root--color-inherit .item--selected .link,
.root--color-inherit .item .link:hover {
  background-color: transparent;
}

.root--color-inherit .item,
.root--color-inherit .item--selected {
  color: currentcolor;
}

.root--color-inherit
  .trigger-list--variant-underlined
  .nav[style*="--bui-tab-underline-scale-x"]::after,
.root--color-inherit
  .trigger-list--variant-underlined
  .item:not(.item--more).item--selected
  .link::after {
  background-color: currentcolor;
}

.root--color-inherit .link:hover::before {
  content: "";
  width: 100%;
  height: 100%;
  position: absolute;
  inset-inline-start: 0;
  background-color: currentcolor;
  opacity: 0.06;
}

/**
 * Rounded neutral color
 */
.trigger-list--variant-rounded .item--selected .link {
  background-color: var(--bui_color_action_highlighted_alt);
  border-color: var(--bui_color_action_border);
}

/**
 * Rounded inherit color
 */
.root--color-inherit
  .trigger-list--variant-rounded
  .item--selected
  .link::before,
.root--color-inherit .trigger-list--variant-rounded .item .link:hover::before {
  content: "";
  width: 100%;
  height: 100%;
  position: absolute;
  inset-inline-start: 0;
  background-color: currentcolor;
  opacity: 0.1;
  border-radius: 999px;
}

.root--color-inherit .trigger-list--variant-rounded .item--selected .link {
  border-color: currentcolor;
  background-color: transparent;
}

.root--color-inherit .trigger-list--variant-rounded .item--selected .link,
.root--color-inherit .trigger-list--variant-rounded .link {
  color: currentcolor;
}

@media (--bui_small_viewport), (--bui_medium_viewport) and (hover: none) {
  .root:not(.root--equal) .trigger-list {
    flex-wrap: nowrap;
    white-space: nowrap;
    overflow: hidden;
  }

  .root:not(.root--equal) .nav {
    overflow-x: auto;
  }

  .root:not(.root--equal) .item--more {
    display: none;
  }
}

/* Showing mobile-hidden items on medium viewport that has touch support */
@media (--bui_medium_viewport) and (hover: none) {
  .root:not(.root--equal) .item--hidden {
    display: inline-block;
  }
}
