# Calendar

<Featured>Calendars let users select a date or a range of dates.</Featured>

<Grid>
  <CrossLink
    title="Calendar"
    type="documentation"
    text="Learn more about the Calendar design anatomy and best-practices."
    section="Design documentation"
    href="https://design-system.booking.com/article/bui/components/patterns/calendar/"
    target="_blank"
  />
</Grid>

## Usage

```jsx
import { Calendar } from "@bookingcom/bui-react";
import type { CalendarProps } from "@bookingcom/bui-react";
```

Calendar component renders dates based on the `baseDate` property which defaults to the current month.
For example, if you pass May 4th 2020 to this property, May 2020 will be rendered as the first month.

Every time a user changes the selected dates, your product code can respond to that with an `onDateChange` handler.

<Example name="default" />

There are elements in the Calendar that require translations to be provided to make it display as expected for all languages.
So make sure you pass translations for `dayNames`, `monthNames` and aria labels.

In case you need date selection to work just for single dates instead of range of dates, you can use `singleDate` boolean property.

<Example name="single" />

Calendar supports multiple rendering modes.
By default it renders just a single month but `mode` property can be used to render two months next to each other or display calendar vertically for mobile devices.

<Example name="double" />

<Example name="vertical" />

During the booking process, we usually have limitations around which dates are available for selection.
In majority of the cases you can control it with `minDate` and `maxDate` properties.
For example, we can make only a specific range within the month to be available

<Example name="minMax" />

There are additional ways of controlling the display of available dates for more advanced cases.
You can use `maxSelectionLength` property to enable specific selection range limitations after the `startDate` was selected.
Other option is to enable or disable available dates with an array of dates passed to Calendar through `enabledDates` and `disabledDates` properties.

### Controlled and uncontrolled

Like other components working with values, Calendar supports controlled and uncontrolled version.
When there are no dates passed, or if you pass `defaultStartDate` / `defaultEndDate` properties, Calendar will enable uncontrolled mode.

This means that only default values will be assigned to the component but then Calendar will handle the state internally.

<Example name="uncontrolled" />

On the other hand, if you pass `startDate` / `endDate`, Calendar will enable controlled mode.
This means that interacting with the Calendar will trigger the event handlers but will rely on you controlling its state and passing updated date values.

<Example name="controlled" />

### Date rendering

Calendar are used not only for displaying the dates themselves but also meta data for them.
One of the common cases is to show data around availability.

To simplify working with this case, Calendar supports `renderAttachment` property that provides multiple attachment formats.
In the example below, you can find a few examples of what you can achieve with attachments:

<Example name="attachment" />

You can find even more properties in the table below that should enable additional edge cases that we're working with in our products.

### Building Calendar UI for edge cases

We additionally supply `Calendar.Month` and `Calendar.Day` compound components for some edge cases, which main Calendar does not cover. For instance you can build year view,
using a number of `Calendar.Month` components.

Combining this with `Calendar.Day` helps to achive things like multiple ranges and custom logic. No state is managed for you in Calendar.Month,
you can use callbacks like `onClick`, `onMouseIn` and `onMouseOut` to make you UI interactable.

<Example name="standaloneMonthView" />

## Accessibility

- Use `ariaLabel` property to add additional context around the purpose of the calendar
- Use `nextAriaLabel` and `previousAriaLabel` to provide accessibility labels for the month control icons
- Use `startAccessibilityHint` and `endAccessibilityHint` to tell user about which date they are about to select.
  For example, you set `startAccessibilityHint` to a translation tag that says `Select as check-in date` in English.
  This label will be pronounced for every focused date when selecting a start date in addition to the default labels enabled for that date.
- Calendar automatically provides keyboard arrow navigation for the days and months

## Properties

| Name                   | Type                                            | Default  | Required | Description                                                                                                    |
| ---------------------- | ----------------------------------------------- | -------- | -------- | -------------------------------------------------------------------------------------------------------------- |
| mode                   | `single`, `double`, `vertical`                  | `single` | false    |                                                                                                                |
| singleDate             | `boolean`                                       | -        | false    | Allow to choose just one date                                                                                  |
| baseDate               | `Date`                                          | -        | false    | Date from the month that should be rendered at the moment                                                      |
| minDate                | `Date`                                          | -        | false    | Minimal date in **YYYY-MM-DD** format                                                                          |
| maxDate                | `Date`                                          | -        | false    | Maximal date in **YYYY-MM-DD** format                                                                          |
| maxSelectionLength     | `number`                                        | -        | false    |                                                                                                                |
| startDate              | `Date`                                          | -        | false    | Selected start date in **YYYY-MM-DD** format                                                                   |
| endDate                | `Date`                                          | -        | false    | Selected end date in **YYYY-MM-DD** format                                                                     |
| defaultStartDate       | `Date`                                          | -        | false    | Default start date in **YYYY-MM-DD** format                                                                    |
| defaultEndDate         | `Date`                                          | -        | false    | Default end date in **YYYY-MM-DD** format                                                                      |
| renderSelected         | `({ startDate, endDate }) => void`              | -        | false    | Render selected function                                                                                       |
| renderDay              | `(date, options) => void`                       | -        | false    | Custom renderer for the date display                                                                           |
| renderAttachment       | `({ date }) => AttachmentData`                  | -        | false    |                                                                                                                |
| onDateChange           | `({ startDate, endDate, changedDate }) => void` | -        | false    | Custom date change handler                                                                                     |
| onDayHover             | `({ date }) => void`                            | -        | false    | Gets called when hovering or focusing a day                                                                    |
| onBaseMonthChange      | `(date) => void`                                | -        | false    | Gets called when a different month becomes visible. (Vertical mode is not supported)                           |
| monthLabelClassName    | `string`                                        | -        | false    | Custom className for the label above each month                                                                |
| dayClassName           | `string`                                        | -        | false    | Custom className for day cells                                                                                 |
| selectedDayClassName   | `string`                                        | -        | false    | Custom className for selected day cells                                                                        |
| disabledDayClassName   | `string`                                        | -        | false    | Custom className for disabled day cells                                                                        |
| className              | `string`                                        | -        | false    | Custom root element className                                                                                  |
| attributes             | `object`                                        | -        | false    | Custom root element attributes                                                                                 |
| selectedDates          | `Date[]`                                        | -        | false    | List of dates in **YYYY-MM-DD** format to be pre-selected                                                      |
| disabledDates          | `Date[]`                                        | -        | false    | List of dates in **YYYY-MM-DD** format to be disabled                                                          |
| enabledDates           | `Date[]`                                        | -        | false    | List of dates in **YYYY-MM-DD** format to be enabled                                                           |
| firstWeekDay           | `number`                                        | 1        | false    | Index of first day in the week                                                                                 |
| fullHeight             | `boolean`                                       | -        | false    | Stretch vertical calender to the full height of its parent to remove the default max-height                    |
| allowSameDateSelection | `boolean`                                       | -        | false    | Flag to enable selecting same start and end dates while specifying selected dates range                        |
| dayNames               | `DayNames`                                      | -        | true     | Set of day names                                                                                               |
| monthNames             | `MonthNames`                                    | -        | true     | Set of month names                                                                                             |
| ariaLabel              | `string`                                        | -        | false    | Accessibility label for the whole calendar component                                                           |
| startAccessibilityHint | `string`                                        | -        | false    | Additional accessibility hint when user is selecting the start date                                            |
| endAccessibilityHint   | `string`                                        | -        | false    | Additional accessibility hint when user is selecting the end date                                              |
| previousAriaLabel      | `string`                                        | -        | true     |                                                                                                                |
| nextAriaLabel          | `string`                                        | -        | true     |                                                                                                                |
| mixin                    | `object`                                        | -        | false    | [Utility Layer](?page=Getting%2520started%252FDevelopment%252FComponents&view=documentation#BUI-Utility-Layer) |

### Attachment data

| Name      | Type                     | Default | Required  | Description                                                                           |
| --------- | ------------------------ | ------- | --------- | ------------------------------------------------------------------------------------- |
| variant   | `good`, `neutral`, `bad` | -       | `neutral` | Color of the attachment                                                               |
| text      | `ReactNode`              | -       | false     |                                                                                       |
| count     | `1`, `2`, `3`            | -       | false     | Number of dots displayed                                                              |
| loading   | `boolean`                | -       | true      | Show skeleton loader                                                                  |
| ariaLabel | `string`                 | -       | false     | Accessibility label to provide more context about the attachment when date is focused |

### Day names properties

| Name      | Type     | Default | Required | Description     |
| --------- | -------- | ------- | -------- | --------------- |
| monday    | `string` | -       | true     | Monday label    |
| tuesday   | `string` | -       | true     | Tuesday label   |
| wednesday | `string` | -       | true     | Wednesday label |
| thursday  | `string` | -       | true     | Thursday label  |
| friday    | `string` | -       | true     | Friday label    |
| saturday  | `string` | -       | true     | Saturday label  |
| sunday    | `string` | -       | true     | Sunday label    |

### Month names properties

| Name      | Type     | Default | Required | Description     |
| --------- | -------- | ------- | -------- | --------------- |
| january   | `string` | -       | true     | January label   |
| february  | `string` | -       | true     | February label  |
| march     | `string` | -       | true     | March label     |
| april     | `string` | -       | true     | April label     |
| may       | `string` | -       | true     | May label       |
| june      | `string` | -       | true     | June label      |
| july      | `string` | -       | true     | July label      |
| august    | `string` | -       | true     | August label    |
| september | `string` | -       | true     | September label |
| october   | `string` | -       | true     | October label   |
| november  | `string` | -       | true     | November label  |
| december  | `string` | -       | true     | December label  |
