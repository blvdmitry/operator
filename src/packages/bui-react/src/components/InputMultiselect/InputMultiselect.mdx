# InputMultiselect

<Featured>
  Input multiselects are toggleable, contextual overlays for displaying lists of
  options of which the user can select multiple. As such, they can provide a
  more economical use of space than a list of input checkboxes.
</Featured>

<Grid>
  <CrossLink
    title="InputMultiselect"
    type="documentation"
    text="Learn more about the InputMultiselect design anatomy and best-practices."
    section="Design documentation"
    href="https://design.booking.com/article/bui/components/patterns/input-multiselect/"
    target="_blank"
  />
</Grid>

## Usage

```jsx
import { InputMultiselect } from "@bookingcom/bui-react";
import type { InputMultiselectProps } from "@bookingcom/bui-react";
```

Like in InputSelect, you should pass a list of options to the InputMultiselect that will render them as a list of checkboxes inside a dropdown.

<Example name="default" />

You can split options into groups by using `groups` property instead of the `options`.

<Example name="groups" />

Whenever values are selected in the dropdown, InputMultiselect displays them in the trigger.
By default it's rendering them as text but you can customize this behaviour through `renderDisplay` function property.

<Example name="customRender" />

In case InputMultiselect options are loaded asynchronously, you can use `beforeSlot` to render loader elements.

<Example name="loading" />

## Accessibility

InputMultiselect traps user focus once it's opened. Users can navigate using arrow keys and tab button closes the dropdown.

## Properties

**InputMultiselect properties:**

| Name                | Type                        | Default | Required | Description                                                           |
| ------------------- | --------------------------- | ------- | -------- | --------------------------------------------------------------------- |
| id                  | `string`                    | -       | false    | Field id                                                              |
| label               | `ReactNode`                 | -       | false    | Field label                                                           |
| subLabel            | `ReactNode`                 | -       | false    | Field sub label                                                       |
| value               | `string[]`, `null`          | -       | false    | Field value. Activates controlled version of the component.           |
| defaultValue        | `string[]`                  | -       | false    | Field default value. Activates uncontrolled version of the component. |
| name                | `string`                    | -       | true     | Field name                                                            |
| onChange            | `({ name, value }) => void` | -       | false    | Field change handler                                                  |
| onOpen              | `() => void`                | -       | false    | Dropdown open handler                                                 |
| onClose             | `() => void`                | -       | false    | Dropdown close handler                                                |
| placeholder         | `string`                    | -       | false    | Field placeholder                                                     |
| options             | `Option[]`                  | -       | false    | Field options                                                         |
| groups              | `Group[]`                   | -       | false    | Groups of options                                                     |
| renderDisplay       | `(selectedOptions) => void` | -       | false    | Custom render function for selected options                           |
| applyLinkLabel      | `string`                    | -       | false    | Apply link label                                                      |
| applyLinkAttributes | `object`                    | -       | false    |
| clearLinkLabel      | `string`                    | -       | false    | Clear link label                                                      |
| clearLinkAttributes | `object`                    | -       | false    |
| helper              | `string`                    | -       | false    | Field helper text                                                     |
| error               | `string`                    | -       | false    | Field error text                                                      |
| required            | `boolean`                   | -       | false    | Is field required?                                                    |
| disabled            | `boolean`                   | -       | false    | Is field disabled?                                                    |
| immediateChange     | `boolean`                   | -       | false    | Should change event be triggered on checkbox change?                  |
| keepMounted         | `boolean`                   | -       | false    | Do not remove popover content from DOM on close                       |
| inputSize           | `medium`, `large`           | -       | false    | Input size                                                   |
| size                | `small`, `medium`           | -       | false    | Dropdown size                                                         |
| className           | `string`                    | -       | false    | Custom root element className                                         |
| attributes          | `object`                    | -       | false    | Custom root element attributes                                        |
| maxHeight           | `string`                    | -       | false    | Custom max height for the dropdown content                            |
| buttonAttributes    | `object`                    | -       | false    | Custom button element attributes                                      |
| beforeSlot          | `ReactNode`                 | -       | false    | Slot for content before the options list                              |
| afterSlot           | `ReactNode`                 | -       | false    | Slot for content after the options list                               |

**Options property format:**

| Name            | Type        | Default | Required | Description              |
| --------------- | ----------- | ------- | -------- | ------------------------ |
| label           | `ReactNode` | -       | true     | Option label             |
| value           | `string`    | -       | true     | Option value             |
| attributes      | `object`    | -       | false    | Root element attributes  |
| inputAttributes | `object`    | -       | false    | Input element attributes |

**Groups property format:**

| Name    | Type       | Default | Required | Description      |
| ------- | ---------- | ------- | -------- | ---------------- |
| title   | `string`   | -       | true     | Group title      |
| options | `Option[]` | -       | true     | Array of options |
