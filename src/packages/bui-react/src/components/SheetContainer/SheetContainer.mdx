# SheetContainer

<Featured>
  Sheets present additional information, actions, or workflows that appear in an
  overlay covering the content of the current page.
</Featured>

<Grid>
  <CrossLink
    title="Sheet Container"
    type="documentation"
    text="Learn more about the Sheet Container design anatomy and best-practices."
    section="Design documentation"
    href="https://design-system.booking.com/article/bui/components/containers/sheet-container/"
    target="_blank"
  />
</Grid>

## Usage

```jsx
import { SheetContainer } from "@bookingcom/bui-react";
import type { SheetContainerProps } from "@bookingcom/bui-react";
```

SheetContainer is a controlled component, which means you have to pass your own state value to it to control its appearance on the screen.

```jsx
const [active, setActive] = React.useState(false);

return (
  <>
    <button onClick={() => setActive(true)}>Open</button>
    <SheetContainer
      active={active}
      onCloseTrigger={() => setActive(false)}
      onClose={() => console.log("Closed")}
    >
      <button onClick={() => setActive(false)}>Close</button>
    </SheetContainer>
  </>
);
```

### Positioning

Centered sheets (also known as Modal) are displayed in the middle of the screen. They should be used to provide critical information or ask for a decision.

<Example name="center" />

SheetContainer can be displayed in the center of the screen as well as slide-in from the sides.
Bottom sheets can be used for temporary and partially immersive content that do not involve complex interactions.

<Example name="bottom" />

Side sheets are usually used for side menus or navigation lists.

<Example name="end" />

A full screen modal is used for temporary and fully immersive content that usually includes some complex interactions

<Example name="fullScreen" />

### Size

SheetContainer comes with a resonable width/height values for the container, however you can customize that based on your product needs.
You can pass a `size` value, which can be either a `large` preset or a `px` value.
Once the size of the Sheet becomes large enough, SheetContainer padding adjusts accordingly.

Note that if viewport size is smaller than SheetContainer size, SheetContainer will be limited to 100% of the viewport.
Make sure that your Sheet contents are responsive for all types of supported viewports.

For example, in the following example we set the size of the SheetContainer to `600` which you can see on the desktop viewport.

<Example name="size" />

### Sticky Header

Keep header "sticky" when scrolling through content in SheetContainer.

<Example name="stickyHeader" />

### Responsive Properties

Position property can be responsive. That means it can have different value between viewports. You can read more about responsive properties [here](?page=Getting%2520started%252FDevelopment%252FComponents&view=documentation#Responsive-development).

<Example name="responsive" />

### Using without an Overlay

There are some use-cases where one might want the main content behind the SheetContainer's Overlay to be interactive and not blocked.
Setting the `useOverlay` prop to `false` will not render the Overlay and thus making the content behind the SheetContainer interactable.
By default the Overlay is always rendered (i.e. `useOverlay` is `true` by default).

<Example name="hideOverlay" />

## Focus management

When opening SheetContainer, our accessibility utilities will trap the focus inside it.
This means that focus will move from the current active element on the page to the first focusable element inside SheetContainer and during navigation focus will always stay inside.

This operation is asynchonous so in order to manually control the focus behavior for the moment SheetContainer gets opened, you can use `onAfterOpen` handler.
It gets called after all async operations are over and SheetContainer content is available in the DOM, which means you can call `.focus()` method for any element inside.

<Example name="autofocus" />

## Accessibility

- Using `title` and `subtitle` properties instead of custom children elements to render heading of the Sheet will make them accessible by default.
- Whenever SheetContainer is opened it moves the focus inside it and traps it there. Once it gets closed, it returns the focus back to the original trigger element that opened the sheet.
- If you're opening a SheetContainer on element focus event, like if when user is focus-in an input, you'll have to write some additional product logic to avoid opening it again once focus is restored back to the trigger element.
- If you're using a SheetContainer with an iframe in it - make sure your iframe has a `title` or an `aria-label` assigned since it's going to be used for the keyboard navigation

## Properties

| Name                    | Type              | Default  | Required | Description                                                                                                                      |
| ----------------------- | ----------------- | -------- | -------- | -------------------------------------------------------------------------------------------------------------------------------- |
| active                  | `boolean`         | -        | false    | Is drawer active?                                                                                                                |
| fill                    | `boolean`         | -        | false    | Is drawer content full-width?                                                                                                    |
| id                      | `string`          | -        | false    | Sheet id                                                                                                                         |
| position                | `bottom`, `start` | `bottom` | false    | [Responsive](?page=Getting%2520started%252FDevelopment%252FComponents&view=documentation#Responsive-development). Sheet position |
| children                | `ReactNode`       | -        | false    | Sheet content                                                                                                                    |
| title                   | `ReactNode`       | -        | false    | Sheet title                                                                                                                      |
| subtitle                | `ReactNode`       | -        | false    | Sheet subtitle                                                                                                                   |
| stickyHeader            | `ReactNode`       | -        | false    | Keeps header sticky when scrolling                                                                                               |
| footer                  | `ReactNode`       | -        | false    | Slot for footer content that stays on the screen on scroll                                                                       |
| closeAriaLabel          | `string`          | -        | true     | Aria label attribute for the close button                                                                                        |
| hideClose               | `boolean`         | -        | false    | Hide close button                                                                                                                |
| lockClose               | `boolean`         | -        | false    | Prevent drawer from closing                                                                                                      |
| lockCloseOnOutsideClick | `boolean`         | -        | false    | Prevent drawer from closing on outside click                                                                                     |
| keepMounted             | `boolean`         | -        | false    | Do not unmount the drawer after it's closed                                                                                      |
| size                    | `large`, `number` | -        | false    | Width or height of the sheet based on the direction                                                                              |
| arrowNavigation         | `boolean`         | -        | false    | Enable keyboard arrow navigation in addition to tabs for the overlay content                                                     |
| zIndex                  | `number`          | -        | false    | Custom z-index value                                                                                                             |
| onClose                 | `() => void`      | -        | false    |                                                                                                                                  |
| onOpen                  | `() => void`      | -        | false    |                                                                                                                                  |
| onAfterOpen             | `() => void`      | -        | false    | Handler after async open operations are completed                                                                                |
| onAfterClose            | `() => void`      | -        | false    | Handler after async close operations are completed                                                                               |
| onCloseTrigger          | `() => void`      | -        | false    | Sheet handler for closing triggered within the component                                                                         |
| className               | `string`          | -        | false    | Custom root element className                                                                                                    |
| attributes              | `object`          | -        | false    | Custom root element attributes                                                                                                   |
| closeAtributes          | `object`          | -        | false    | Custom close button element attributes                                                                                           |
| overlayAttributes       | `object`          | -        | false    | Custom overlay element attributes                                                                                                |
| hideOverlay             | `boolean`         | -        | false    | When `true` the main content can still be interacted with and the overlay is not rendered                                        |
| overflow                | `hidden`          | -        | false    | Add overflow to the content area                                                                                                 |
